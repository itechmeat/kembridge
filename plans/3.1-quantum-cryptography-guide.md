# Phase 3.1: ML-KEM-1024 Implementation Guide

## üìã –û–±–∑–æ—Ä —Ñ–∞–∑—ã

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ—Å—Ç–∫–≤–∞–Ω—Ç–æ–≤–æ–π –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å ML-KEM-1024 –¥–ª—è –∑–∞—â–∏—Ç—ã –∫—Ä–æ—Å—Å-—á–µ–π–Ω –æ–ø–µ—Ä–∞—Ü–∏–π
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Phase 2.3 (User Management) - –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—Ç–∞—é—â–∏–π –º–æ–¥—É–ª—å –∫–≤–∞–Ω—Ç–æ–≤–æ–π –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–ª—é—á–µ–π, encapsulation/decapsulation

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—Å—Ç—å:** –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ–ª—å–∫–æ NIST-—Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã (FIPS 203, 204, 205)
2. **–ì–∏–±—Ä–∏–¥–Ω–æ—Å—Ç—å:** –ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º –ø–æ—Å—Ç–∫–≤–∞–Ω—Ç–æ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã —Å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** ML-KEM-1024 –±—ã—Å—Ç—Ä–µ–µ X25519, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏ (~1.6KB –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –ó–∞—â–∏—Ç–∞ –æ—Ç –∞—Ç–∞–∫ –∫–≤–∞–Ω—Ç–æ–≤—ã—Ö –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ AES-256

## üìö –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã

### ML-KEM (Module-Lattice-Based Key-Encapsulation Mechanism)

- **–°—Ç–∞–Ω–¥–∞—Ä—Ç:** FIPS 203 (–∞–≤–≥—É—Å—Ç 2024, ex-CRYSTALS-Kyber)
- **–£—Ä–æ–≤–Ω–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:** ML-KEM-512, ML-KEM-768, ML-KEM-1024
- **–í—ã–±–æ—Ä:** ML-KEM-1024 –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∑–∞—â–∏—Ç—ã (256-bit —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç)
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** `ml-kem` v0.2.1 - —á–∏—Å—Ç–∞—è Rust —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è FIPS 203

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã (Phase 3.3)

- **ML-DSA (Dilithium):** FIPS 204 –¥–ª—è —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –ø–æ–¥–ø–∏—Å–µ–π
- **SLH-DSA (SPHINCS+):** FIPS 205 –¥–ª—è stateless –ø–æ–¥–ø–∏—Å–µ–π
- **–ì–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ö–µ–º–∞:** ML-KEM + AES-256-GCM –¥–ª—è –¥–∞–Ω–Ω—ã—Ö

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ kembridge-crypto crate

```
backend/crates/kembridge-crypto/
‚îú‚îÄ‚îÄ Cargo.toml                 # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–æ—Å—Ç–∫–≤–∞–Ω—Ç–æ–≤–æ–π –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ lib.rs                 # –ü—É–±–ª–∏—á–Ω—ã–π API –º–æ–¥—É–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ ml_kem.rs             # ML-KEM-1024 wrapper
‚îÇ   ‚îú‚îÄ‚îÄ key_management.rs     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ hybrid_crypto.rs      # –ì–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ö–µ–º–∞ (Phase 3.3)
‚îÇ   ‚îú‚îÄ‚îÄ error.rs              # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ tests/
‚îÇ       ‚îú‚îÄ‚îÄ ml_kem_tests.rs   # –¢–µ—Å—Ç—ã –¥–ª—è ML-KEM
‚îÇ       ‚îî‚îÄ‚îÄ integration_tests.rs
‚îî‚îÄ‚îÄ README.md
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π backend

```
backend/src/
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ quantum.rs            # QuantumService –¥–ª—è API endpoints
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îî‚îÄ‚îÄ crypto.rs             # HTTP handlers –¥–ª—è /api/v1/crypto/*
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ crypto.rs             # –†–æ—É—Ç—ã –¥–ª—è crypto endpoints
‚îî‚îÄ‚îÄ models/
    ‚îî‚îÄ‚îÄ quantum_key.rs        # –ú–æ–¥–µ–ª–∏ –¥–ª—è quantum_keys —Ç–∞–±–ª–∏—Ü—ã
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏

### 3.1.1 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ Phase 3.1 - –±–∞–∑–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```toml
# backend/crates/kembridge-crypto/Cargo.toml
[dependencies]
ml-kem = "0.2.1"                    # FIPS 203 ML-KEM —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
rand = "0.9.1"                        # –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π RNG
zeroize = "1.8.1"                     # –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –∏–∑ –ø–∞–º—è—Ç–∏
serde = { version = "1.0.217", features = ["derive"] }
thiserror = "2.0.11"                   # –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
```

### 3.1.2 –°–æ–∑–¥–∞–Ω–∏–µ QuantumCrypto –º–æ–¥—É–ª—è

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ Phase 3.1 - –æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å

```rust
// kembridge-crypto/src/lib.rs
pub mod ml_kem;
pub mod key_management;
pub mod error;

pub use ml_kem::MlKemCrypto;
pub use key_management::QuantumKeyManager;
pub use error::QuantumCryptoError;

// –≠–∫—Å–ø–æ—Ä—Ç –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
pub type EncapsulationKey = ml_kem::kem1024::EncapsulationKey;
pub type DecapsulationKey = ml_kem::kem1024::DecapsulationKey;
pub type SharedSecret = [u8; 32];
pub type Ciphertext = ml_kem::kem1024::CipherText;
```

### 3.1.3 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ä

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ Phase 3.1 - –∫–ª—é—á–µ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

```rust
// kembridge-crypto/src/ml_kem.rs
use ml_kem::kem1024::*;
use rand::Rng;
use zeroize::Zeroize;

pub struct MlKemCrypto;

impl MlKemCrypto {
    /// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π ML-KEM-1024 –∫–ª—é—á–µ–≤–æ–π –ø–∞—Ä—ã
    pub fn generate_keypair<R: Rng>(rng: &mut R) -> Result<(DecapsulationKey, EncapsulationKey), QuantumCryptoError> {
        let (dk, ek) = MlKem1024::generate(rng);
        Ok((dk, ek))
    }

    /// –≠–∫—Å–ø–æ—Ä—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –≤ –±–∞–π—Ç—ã
    pub fn export_public_key(ek: &EncapsulationKey) -> Vec<u8> {
        ek.as_bytes().to_vec()
    }

    /// –ò–º–ø–æ—Ä—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞ –∏–∑ –±–∞–π—Ç–æ–≤
    pub fn import_public_key(bytes: &[u8]) -> Result<EncapsulationKey, QuantumCryptoError> {
        EncapsulationKey::try_from(bytes)
            .map_err(|e| QuantumCryptoError::InvalidKey(e.to_string()))
    }
}
```

### 3.1.4 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è encapsulation –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ Phase 3.1 - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è shared secret

```rust
impl MlKemCrypto {
    /// Encapsulation: —Å–æ–∑–¥–∞–Ω–∏–µ shared secret –∏ ciphertext
    pub fn encapsulate<R: Rng>(
        ek: &EncapsulationKey,
        rng: &mut R
    ) -> Result<(Ciphertext, SharedSecret), QuantumCryptoError> {
        let (ct, ss) = ek.encapsulate(rng)
            .map_err(|e| QuantumCryptoError::EncapsulationFailed(e.to_string()))?;

        Ok((ct, ss.into()))
    }
}
```

### 3.1.5 –†–µ–∞–ª–∏–∑–∞—Ü–∏—è decapsulation –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ Phase 3.1 - –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è shared secret

```rust
impl MlKemCrypto {
    /// Decapsulation: –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ shared secret –∏–∑ ciphertext
    pub fn decapsulate(
        dk: &DecapsulationKey,
        ct: &Ciphertext
    ) -> Result<SharedSecret, QuantumCryptoError> {
        let ss = dk.decapsulate(ct)
            .map_err(|e| QuantumCryptoError::DecapsulationFailed(e.to_string()))?;

        Ok(ss.into())
    }
}
```

### 3.1.6 –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–ª—é—á–µ–π

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ Phase 3.1 - –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å PostgreSQL

```rust
// backend/src/models/quantum_key.rs
use chrono::{DateTime, Utc};
use serde::{Deserialize, Serialize};
use sqlx::FromRow;
use uuid::Uuid;

#[derive(Debug, Clone, Serialize, Deserialize, FromRow)]
pub struct QuantumKey {
    pub id: Uuid,
    pub user_id: Uuid,
    pub key_type: String,              // "ml_kem_1024"
    pub public_key: Vec<u8>,           // EncapsulationKey bytes
    pub private_key_encrypted: Vec<u8>, // –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π DecapsulationKey
    pub key_metadata: serde_json::Value, // {"version": "1.0", "algorithm": "ML-KEM-1024"}
    pub created_at: DateTime<Utc>,
    pub expires_at: Option<DateTime<Utc>>,
    pub is_active: bool,
    pub usage_count: i32,
    pub last_used_at: Option<DateTime<Utc>>,
}

#[derive(Debug, Serialize, Deserialize)]
pub struct QuantumKeyRequest {
    pub key_type: String,
    pub expires_in_days: Option<i32>,
}

#[derive(Debug, Serialize, Deserialize)]
pub struct QuantumKeyResponse {
    pub id: Uuid,
    pub public_key: String,  // Base64 encoded
    pub key_metadata: serde_json::Value,
    pub created_at: DateTime<Utc>,
    pub expires_at: Option<DateTime<Utc>>,
}
```

### 3.1.7 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ Phase 3.1 - –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```rust
// kembridge-crypto/src/tests/ml_kem_tests.rs
#[cfg(test)]
mod tests {
    use super::*;
    use rand::thread_rng;

    #[test]
    fn test_ml_kem_round_trip() {
        let mut rng = thread_rng();

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–≤–æ–π –ø–∞—Ä—ã
        let (dk, ek) = MlKemCrypto::generate_keypair(&mut rng).unwrap();

        // Encapsulation
        let (ct, ss_send) = MlKemCrypto::encapsulate(&ek, &mut rng).unwrap();

        // Decapsulation
        let ss_recv = MlKemCrypto::decapsulate(&dk, &ct).unwrap();

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è shared secret
        assert_eq!(ss_send, ss_recv);
    }

    #[test]
    fn test_key_serialization() {
        let mut rng = thread_rng();
        let (_, ek) = MlKemCrypto::generate_keypair(&mut rng).unwrap();

        // –≠–∫—Å–ø–æ—Ä—Ç –∏ –∏–º–ø–æ—Ä—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
        let exported = MlKemCrypto::export_public_key(&ek);
        let imported = MlKemCrypto::import_public_key(&exported).unwrap();

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–ª—é—á–∞
        let (_, ss1) = MlKemCrypto::encapsulate(&ek, &mut rng).unwrap();
        let (_, ss2) = MlKemCrypto::encapsulate(&imported, &mut rng).unwrap();

        // –ö–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å SS)
        assert_eq!(exported, MlKemCrypto::export_public_key(&imported));
    }
}
```

### 3.1.8 –°–æ–∑–¥–∞–Ω–∏–µ wrapper'–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** ‚úÖ –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ Phase 3.1 - –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API

```rust
// kembridge-crypto/src/key_management.rs
use crate::{MlKemCrypto, QuantumCryptoError};
use rand::{thread_rng, Rng};
use zeroize::Zeroize;

pub struct QuantumKeyManager {
    // –ú–µ–Ω–µ–¥–∂–µ—Ä –±—É–¥–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω –≤ Phase 3.2 –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ë–î
}

impl QuantumKeyManager {
    pub fn new() -> Self {
        Self {}
    }

    /// –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–≤–æ–π –ø–∞—Ä—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
    pub fn generate_ml_kem_keypair(&self) -> Result<QuantumKeyPair, QuantumCryptoError> {
        let mut rng = thread_rng();
        let (dk, ek) = MlKemCrypto::generate_keypair(&mut rng)?;

        Ok(QuantumKeyPair {
            decapsulation_key: dk,
            encapsulation_key: ek,
            created_at: chrono::Utc::now(),
            key_id: uuid::Uuid::new_v4(),
        })
    }

    /// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ encapsulation —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–æ–π –ø–∞–º—è—Ç–∏
    pub fn secure_encapsulate(&self, keypair: &QuantumKeyPair) -> Result<EncapsulationResult, QuantumCryptoError> {
        let mut rng = thread_rng();
        let (ct, mut ss) = MlKemCrypto::encapsulate(&keypair.encapsulation_key, &mut rng)?;

        let result = EncapsulationResult {
            ciphertext: ct,
            shared_secret: ss.clone(),
        };

        // –û—á–∏—Å—Ç–∫–∞ shared secret –∏–∑ –ø–∞–º—è—Ç–∏
        ss.zeroize();

        Ok(result)
    }
}

#[derive(Debug)]
pub struct QuantumKeyPair {
    pub decapsulation_key: DecapsulationKey,
    pub encapsulation_key: EncapsulationKey,
    pub created_at: chrono::DateTime<chrono::Utc>,
    pub key_id: uuid::Uuid,
}

#[derive(Debug)]
pub struct EncapsulationResult {
    pub ciphertext: Ciphertext,
    pub shared_secret: SharedSecret,
}
```

## üîÑ –°–≤—è–∑–∏ —Å –¥—Ä—É–≥–∏–º–∏ —Ñ–∞–∑–∞–º–∏

### –û—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ Phase 3.1

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:** ‚è∏Ô∏è –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ Phase 3.2 - —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ë–î –∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å quantum_keys —Ç–∞–±–ª–∏—Ü–µ–π** ‚Üí Phase 3.2.2
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π** ‚Üí Phase 3.2.3
- **–°–æ–∑–¥–∞–Ω–∏–µ QuantumService** ‚Üí Phase 3.2.1
- **HTTP endpoints** ‚Üí Phase 3.2.4-3.2.6

**–ü—Ä–∏—á–∏–Ω—ã –ø–µ—Ä–µ–Ω–æ—Å–∞:**

1. Phase 3.1 —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏
2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ë–î —Ç—Ä–µ–±—É–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ QuantumService (Phase 3.2)
3. HTTP API –∑–∞–≤–∏—Å–∏—Ç –æ—Ç key management —Å–∏—Å—Ç–µ–º—ã

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö —Ñ–∞–∑

- **Phase 2.3:** AuthUser –¥–ª—è —Å–≤—è–∑—ã–≤–∞–Ω–∏—è –∫–ª—é—á–µ–π —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ ‚úÖ
- **Phase 3.2:** –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–∞–º–∏ –≤ –ë–î
- **Phase 3.3:** –ì–∏–±—Ä–∏–¥–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—è (ML-KEM + AES-256-GCM)
- **Phase 4.3:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å bridge –¥–ª—è –∑–∞—â–∏—Ç—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

## üìä –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ Phase 3.1

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

- [x] ML-KEM-1024 keypair generation —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Encapsulation/Decapsulation —Ü–∏–∫–ª —É—Å–ø–µ—à–µ–Ω
- [x] –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª—é—á–µ–π –≤/–∏–∑ –±–∞–π—Ç–æ–≤
- [x] Comprehensive unit tests –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] Memory safety —Å zeroize –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤
- [x] Error handling –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- [x] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π < 1ms –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º CPU
- [x] Encapsulation < 100Œºs
- [x] Decapsulation < 200Œºs
- [x] –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á 1568 bytes, ciphertext 1568 bytes

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

- [x] FIPS 203 compliance —á–µ—Ä–µ–∑ ml-kem crate
- [x] –ü–æ—Å—Ç–∫–≤–∞–Ω—Ç–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å 256-bit —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç
- [x] Secure memory handling
- [x] Constant-time operations (–≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è ml-kem)

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

1. **Audit Status:** ml-kem crate "has never been independently audited" - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è security review
2. **Hybrid Approach:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≥–∏–±—Ä–∏–¥–Ω–∞—è —Å—Ö–µ–º–∞ —Å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–µ–π
3. **Key Rotation:** –ü–æ—Å—Ç–∫–≤–∞–Ω—Ç–æ–≤—ã–µ –∫–ª—é—á–∏ —Ç—Ä–µ–±—É—é—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π —Ä–æ—Ç–∞—Ü–∏–∏
4. **Performance:** ML-KEM-1024 –±—ã—Å—Ç—Ä–µ–µ X25519, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç +1.6KB —Ç—Ä–∞—Ñ–∏–∫–∞

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Phase 3.1:

1. **Phase 3.2:** Quantum Key Management - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å PostgreSQL
2. **Phase 3.3:** Hybrid Cryptography - ML-KEM + AES –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
3. **Phase 4.3:** Bridge Integration - –∑–∞—â–∏—Ç–∞ –∫—Ä–æ—Å—Å-—á–µ–π–Ω –æ–ø–µ—Ä–∞—Ü–∏–π
4. **Phase 5.2:** AI Risk Integration - –∞–Ω–∞–ª–∏–∑ –∫–≤–∞–Ω—Ç–æ–≤—ã—Ö —É–≥—Ä–æ–∑

---

**–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç Phase 3.1:** –†–∞–±–æ—Ç–∞—é—â–∏–π kembridge-crypto crate —Å ML-KEM-1024, –≥–æ—Ç–æ–≤—ã–π –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ bridge –∏ key management —Å–∏—Å—Ç–µ–º—ã.
